#! /usr/bin/env python
# -*- coding: utf-8 -*-

import os
import suites

from lab.environments import LocalEnvironment, BaselSlurmEnvironment
from lab.reports import Attribute, arithmetic_mean, geometric_mean
from downward.reports import PlanningReport
from downward.reports.absolute import AbsoluteReport
from downward.reports.compare import ComparativeReport
from downward.reports.scatter import ScatterPlotReport

from common_setup import IssueConfig, IssueExperiment, DEFAULT_OPTIMAL_SUITE, is_test_run
try:
    from relativescatter import RelativeScatterPlotReport
    matplotlib = True
except ImportError:
    print 'matplotlib not availabe, scatter plots not available'
    matplotlib = False

REVISION = '44bfdbcc7926'

def main(revisions=None):
    benchmarks_dir=os.path.expanduser('~/repos/downward/benchmarks')
    # optimal union satisficing, strips only
    suite = ['airport', 'barman-opt11-strips', 'barman-opt14-strips', 'blocks',
    'childsnack-opt14-strips', 'depot', 'driverlog', 'elevators-opt08-strips',
    'elevators-opt11-strips', 'floortile-opt11-strips',
    'floortile-opt14-strips', 'freecell', 'ged-opt14-strips', 'grid',
    'gripper', 'hiking-opt14-strips', 'logistics00', 'logistics98', 'miconic',
    'movie', 'mprime', 'mystery', 'nomystery-opt11-strips',
    'openstacks-opt08-strips', 'openstacks-opt11-strips',
    'openstacks-opt14-strips', 'openstacks-strips', 'parcprinter-08-strips',
    'parcprinter-opt11-strips', 'parking-opt11-strips', 'parking-opt14-strips',
    'pathways-noneg', 'pegsol-08-strips', 'pegsol-opt11-strips',
    'pipesworld-notankage', 'pipesworld-tankage', 'psr-small', 'rovers',
    'satellite', 'scanalyzer-08-strips', 'scanalyzer-opt11-strips',
    'sokoban-opt08-strips', 'sokoban-opt11-strips', 'storage',
    'tetris-opt14-strips', 'tidybot-opt11-strips', 'tidybot-opt14-strips',
    'tpp', 'transport-opt08-strips', 'transport-opt11-strips',
    'transport-opt14-strips', 'trucks-strips', 'visitall-opt11-strips',
    'visitall-opt14-strips', 'woodworking-opt08-strips',
    'woodworking-opt11-strips', 'zenotravel', 'barman-sat11-strips',
    'barman-sat14-strips', 'childsnack-sat14-strips', 'elevators-sat08-strips',
    'elevators-sat11-strips', 'floortile-sat11-strips',
    'floortile-sat14-strips', 'ged-sat14-strips', 'hiking-sat14-strips',
    'nomystery-sat11-strips', 'openstacks-sat08-strips',
    'openstacks-sat11-strips', 'openstacks-sat14-strips',
    'parcprinter-sat11-strips', 'parking-sat11-strips', 'parking-sat14-strips',
    'pegsol-sat11-strips', 'scanalyzer-sat11-strips', 'sokoban-sat08-strips',
    'sokoban-sat11-strips', 'tetris-sat14-strips', 'thoughtful-sat14-strips',
    'tidybot-sat11-strips', 'transport-sat08-strips', 'transport-sat11-strips',
    'transport-sat14-strips', 'visitall-sat11-strips', 'visitall-sat14-strips',
    'woodworking-sat08-strips', 'woodworking-sat11-strips']

    configs = {}

    exp = IssueExperiment(
        revisions=revisions,
    )

    generators_count = Attribute('generators_count', absolute=True, min_wins=False)
    generators_identity_count = Attribute('generators_identity_count', absolute=True, min_wins=False)
    generators_orders = Attribute('generators_orders', absolute=True, min_wins=False)
    symmetry_graph_size = Attribute('symmetry_graph_size', absolute=True, min_wins=True)
    time_symmetries = Attribute('time_symmetries', absolute=False, min_wins=True, functions=[geometric_mean])
    symmetry_group_order = Attribute('symmetry_group_order', absolute=True, min_wins=False, functions=[geometric_mean])

    extra_attributes = [
        generators_count,
        generators_identity_count,
        generators_orders,
        symmetry_graph_size,
        time_symmetries,
        symmetry_group_order,
    ]
    attributes = exp.DEFAULT_TABLE_ATTRIBUTES
    attributes.extend(extra_attributes)

    exp.add_fetcher('data/2018-06-18-lifted-stabinit-order-eval')
    exp.add_fetcher('data/2018-06-18-ground-symmetries-dsk-order-eval',merge=True)

    exp.add_absolute_report_step(attributes=attributes,filter_domain=suite)

    algorithm_pairs=[
        ('{}-translate-symm'.format(REVISION), '{}-lmcut-dks'.format(REVISION)),
        ('{}-translate-symm-stabinit'.format(REVISION), '{}-lmcut-dks-stabinit'.format(REVISION)),
        ('{}-translate-symm-stabgoal'.format(REVISION), '{}-lmcut-dks-stabgoal'.format(REVISION)),
        ('{}-translate-symm-stabgoal-stabinit'.format(REVISION), '{}-lmcut-dks-stabgoal-stabinit'.format(REVISION)),
    ]

    exp.add_report(
        ComparativeReport(
            algorithm_pairs=algorithm_pairs,
            attributes=attributes,
            filter_domain=suite,
        ),
        outfile=os.path.join(exp.eval_dir, 'a' + exp.name + '-compare.html'),
    )

    class TasksWithDifferentValuesOfAttributeReport(PlanningReport):
        def __init__(self, **kwargs):
            PlanningReport.__init__(self, **kwargs)

        def get_text(self):
            if len(self.attributes) > 1:
                print("please pass exactly one attribute")
                sys.exit(1)

            attribute = self.attributes[0]
            tasks_with_value_for_attribute = set()
            for (domain, task), runs in self.problem_runs.items():
                same_value = True
                the_value = None
                for run in runs:
                    run_value = run.get(attribute, None)
                    if run_value is not None:
                        if the_value is None:
                            the_value = run_value
                        if run_value != the_value:
                            same_value = False
                            break
                if not same_value and the_value is not None:
                    tasks_with_value_for_attribute.add('{}:{}'.format(domain, task))

            formatted_result = []
            for task in sorted(tasks_with_value_for_attribute):
                formatted_result.append("'{}',".format(task))
            return '\n'.join(formatted_result)

    algo_pair = ['{}-translate-symm-stabgoal-stabinit'.format(REVISION), '{}-lmcut-dks-stabgoal-stabinit'.format(REVISION)]
    exp.add_report(
        TasksWithDifferentValuesOfAttributeReport(
            filter_algorithm=algo_pair,
            attributes=[symmetry_group_order],
            filter_domain=suite,
        ),
        outfile=os.path.join(exp.eval_dir, 'a' + exp.name + '-domains-different-values.txt'),
    )

    # result of above report
    tasks_with_different_symmetry_group_orders_for_full_stabilizing = [
'airport:p01-airport1-p1.pddl',
'airport:p02-airport1-p1.pddl',
'airport:p03-airport1-p2.pddl',
'airport:p04-airport2-p1.pddl',
'airport:p05-airport2-p1.pddl',
'airport:p06-airport2-p2.pddl',
'airport:p07-airport2-p2.pddl',
'airport:p08-airport2-p3.pddl',
'airport:p09-airport2-p4.pddl',
'airport:p10-airport3-p1.pddl',
'airport:p11-airport3-p1.pddl',
'airport:p12-airport3-p2.pddl',
'airport:p13-airport3-p2.pddl',
'airport:p14-airport3-p3.pddl',
'airport:p15-airport3-p3.pddl',
'airport:p16-airport3-p4.pddl',
'airport:p17-airport3-p5.pddl',
'airport:p18-airport3-p6.pddl',
'airport:p19-airport3-p6.pddl',
'airport:p20-airport3-p7.pddl',
'airport:p21-airport4halfMUC-p2.pddl',
'airport:p22-airport4halfMUC-p3.pddl',
'airport:p23-airport4halfMUC-p4.pddl',
'airport:p24-airport4halfMUC-p4.pddl',
'airport:p25-airport4halfMUC-p5.pddl',
'airport:p26-airport4halfMUC-p6.pddl',
'airport:p27-airport4halfMUC-p6.pddl',
'airport:p28-airport4halfMUC-p7.pddl',
'airport:p29-airport4halfMUC-p8.pddl',
'airport:p30-airport4halfMUC-p8.pddl',
'airport:p31-airport4halfMUC-p9.pddl',
'airport:p32-airport4halfMUC-p10.pddl',
'airport:p33-airport4halfMUC-p10.pddl',
'airport:p34-airport4halfMUC-p11.pddl',
'airport:p35-airport4halfMUC-p12.pddl',
'airport:p36-airport5MUC-p2.pddl',
'airport:p37-airport5MUC-p3.pddl',
'airport:p38-airport5MUC-p3.pddl',
'airport:p39-airport5MUC-p4.pddl',
'airport:p40-airport5MUC-p4.pddl',
'airport:p41-airport5MUC-p4.pddl',
'airport:p42-airport5MUC-p5.pddl',
'airport:p43-airport5MUC-p5.pddl',
'airport:p44-airport5MUC-p5.pddl',
'airport:p45-airport5MUC-p6.pddl',
'airport:p46-airport5MUC-p6.pddl',
'airport:p47-airport5MUC-p8.pddl',
'airport:p48-airport5MUC-p9.pddl',
'airport:p49-airport5MUC-p10.pddl',
'airport:p50-airport5MUC-p15.pddl',
'barman-opt11-strips:pfile02-005.pddl',
'barman-opt11-strips:pfile02-006.pddl',
'barman-opt11-strips:pfile02-007.pddl',
'barman-opt11-strips:pfile02-008.pddl',
'barman-opt11-strips:pfile03-009.pddl',
'barman-opt11-strips:pfile03-010.pddl',
'barman-opt11-strips:pfile03-012.pddl',
'barman-opt11-strips:pfile04-013.pddl',
'barman-opt11-strips:pfile04-014.pddl',
'barman-opt11-strips:pfile04-015.pddl',
'barman-opt11-strips:pfile04-016.pddl',
'barman-opt11-strips:pfile05-017.pddl',
'barman-opt11-strips:pfile05-018.pddl',
'barman-opt11-strips:pfile05-019.pddl',
'barman-opt14-strips:p435-1.pddl',
'barman-opt14-strips:p435-3.pddl',
'barman-opt14-strips:p536-1.pddl',
'barman-opt14-strips:p536-2.pddl',
'barman-opt14-strips:p638-1.pddl',
'barman-opt14-strips:p638-2.pddl',
'barman-opt14-strips:p638-3.pddl',
'barman-opt14-strips:p739-1.pddl',
'barman-opt14-strips:p739-2.pddl',
'barman-opt14-strips:p739-3.pddl',
'barman-opt14-strips:p839-1.pddl',
'barman-opt14-strips:p839-2.pddl',
'barman-sat11-strips:pfile06-022.pddl',
'barman-sat11-strips:pfile06-023.pddl',
'barman-sat11-strips:pfile06-024.pddl',
'barman-sat11-strips:pfile07-025.pddl',
'barman-sat11-strips:pfile07-026.pddl',
'barman-sat11-strips:pfile07-027.pddl',
'barman-sat11-strips:pfile07-028.pddl',
'barman-sat11-strips:pfile08-029.pddl',
'barman-sat11-strips:pfile08-030.pddl',
'barman-sat11-strips:pfile08-031.pddl',
'barman-sat11-strips:pfile08-032.pddl',
'barman-sat11-strips:pfile09-033.pddl',
'barman-sat11-strips:pfile09-034.pddl',
'barman-sat11-strips:pfile09-035.pddl',
'barman-sat11-strips:pfile09-036.pddl',
'barman-sat11-strips:pfile10-037.pddl',
'barman-sat11-strips:pfile10-039.pddl',
'barman-sat11-strips:pfile10-040.pddl',
'barman-sat14-strips:p1-11-4-15.pddl',
'barman-sat14-strips:p1-11-5-15.pddl',
'barman-sat14-strips:p1-11-5-16.pddl',
'barman-sat14-strips:p2-10-4-13.pddl',
'barman-sat14-strips:p2-11-4-15.pddl',
'barman-sat14-strips:p2-11-5-16.pddl',
'barman-sat14-strips:p2-11-5-17.pddl',
'barman-sat14-strips:p3-11-4-15.pddl',
'barman-sat14-strips:p3-11-5-15.pddl',
'barman-sat14-strips:p3-11-5-16.pddl',
'barman-sat14-strips:p4-11-4-14.pddl',
'barman-sat14-strips:p4-11-4-15.pddl',
'barman-sat14-strips:p4-11-5-15.pddl',
'barman-sat14-strips:p5-10-4-13.pddl',
'barman-sat14-strips:p5-11-4-15.pddl',
'barman-sat14-strips:p5-11-5-15.pddl',
'barman-sat14-strips:p5-11-5-16.pddl',
'depot:p01.pddl',
'depot:p02.pddl',
'depot:p03.pddl',
'depot:p04.pddl',
'depot:p05.pddl',
'depot:p06.pddl',
'depot:p07.pddl',
'depot:p08.pddl',
'depot:p09.pddl',
'depot:p10.pddl',
'depot:p11.pddl',
'depot:p12.pddl',
'depot:p13.pddl',
'depot:p14.pddl',
'depot:p15.pddl',
'depot:p16.pddl',
'depot:p17.pddl',
'depot:p18.pddl',
'depot:p19.pddl',
'depot:p20.pddl',
'depot:p21.pddl',
'depot:p22.pddl',
'driverlog:p04.pddl',
'ged-opt14-strips:d-1-2.pddl',
'ged-opt14-strips:d-1-3.pddl',
'ged-opt14-strips:d-1-4.pddl',
'ged-opt14-strips:d-1-8.pddl',
'ged-opt14-strips:d-2-1.pddl',
'ged-opt14-strips:d-2-3.pddl',
'ged-opt14-strips:d-2-4.pddl',
'ged-opt14-strips:d-2-8.pddl',
'ged-opt14-strips:d-3-1.pddl',
'ged-opt14-strips:d-3-2.pddl',
'ged-opt14-strips:d-3-4.pddl',
'ged-opt14-strips:d-4-2.pddl',
'ged-opt14-strips:d-4-3.pddl',
'ged-opt14-strips:d-4-8.pddl',
'ged-opt14-strips:d-7-5.pddl',
'ged-opt14-strips:d-7-6.pddl',
'ged-opt14-strips:d-8-1.pddl',
'ged-opt14-strips:d-8-2.pddl',
'ged-opt14-strips:d-8-4.pddl',
'ged-opt14-strips:d-8-9.pddl',
'ged-sat14-strips:d-10-1.pddl',
'ged-sat14-strips:d-10-2.pddl',
'ged-sat14-strips:d-10-3.pddl',
'ged-sat14-strips:d-10-4.pddl',
'ged-sat14-strips:d-10-5.pddl',
'ged-sat14-strips:d-10-6.pddl',
'ged-sat14-strips:d-11-1.pddl',
'ged-sat14-strips:d-11-3.pddl',
'ged-sat14-strips:d-11-5.pddl',
'ged-sat14-strips:d-11-6.pddl',
'ged-sat14-strips:d-12-11.pddl',
'ged-sat14-strips:d-12-2.pddl',
'ged-sat14-strips:d-12-3.pddl',
'ged-sat14-strips:d-12-5.pddl',
'ged-sat14-strips:d-12-6.pddl',
'ged-sat14-strips:d-12-7.pddl',
'ged-sat14-strips:d-12-8.pddl',
'ged-sat14-strips:d-12-9.pddl',
'ged-sat14-strips:d-3-6.pddl',
'ged-sat14-strips:d-9-5.pddl',
'hiking-opt14-strips:ptesting-1-2-3.pddl',
'hiking-opt14-strips:ptesting-1-2-4.pddl',
'hiking-opt14-strips:ptesting-1-2-5.pddl',
'hiking-opt14-strips:ptesting-1-2-7.pddl',
'hiking-opt14-strips:ptesting-1-2-8.pddl',
'hiking-opt14-strips:ptesting-2-2-3.pddl',
'hiking-opt14-strips:ptesting-2-2-4.pddl',
'hiking-opt14-strips:ptesting-2-2-5.pddl',
'hiking-opt14-strips:ptesting-2-2-6.pddl',
'hiking-opt14-strips:ptesting-2-2-7.pddl',
'hiking-opt14-strips:ptesting-2-2-8.pddl',
'hiking-opt14-strips:ptesting-2-3-4.pddl',
'hiking-opt14-strips:ptesting-2-3-5.pddl',
'hiking-opt14-strips:ptesting-2-3-6.pddl',
'hiking-opt14-strips:ptesting-2-3-7.pddl',
'hiking-opt14-strips:ptesting-2-4-3.pddl',
'hiking-opt14-strips:ptesting-2-4-4.pddl',
'hiking-opt14-strips:ptesting-2-4-5.pddl',
'hiking-opt14-strips:ptesting-2-4-6.pddl',
'hiking-opt14-strips:ptesting-2-4-7.pddl',
'hiking-sat14-strips:ptesting-1-2-7.pddl',
'hiking-sat14-strips:ptesting-1-2-8.pddl',
'hiking-sat14-strips:ptesting-2-2-6.pddl',
'hiking-sat14-strips:ptesting-2-2-7.pddl',
'hiking-sat14-strips:ptesting-2-2-8.pddl',
'hiking-sat14-strips:ptesting-2-3-6.pddl',
'hiking-sat14-strips:ptesting-2-3-7.pddl',
'hiking-sat14-strips:ptesting-2-3-8.pddl',
'hiking-sat14-strips:ptesting-2-4-5.pddl',
'hiking-sat14-strips:ptesting-2-4-6.pddl',
'hiking-sat14-strips:ptesting-2-4-7.pddl',
'hiking-sat14-strips:ptesting-2-4-8.pddl',
'hiking-sat14-strips:ptesting-3-3-5.pddl',
'hiking-sat14-strips:ptesting-3-3-6.pddl',
'hiking-sat14-strips:ptesting-3-3-7.pddl',
'hiking-sat14-strips:ptesting-3-3-8.pddl',
'hiking-sat14-strips:ptesting-3-4-5.pddl',
'hiking-sat14-strips:ptesting-3-4-6.pddl',
'hiking-sat14-strips:ptesting-3-4-7.pddl',
'hiking-sat14-strips:ptesting-3-4-8.pddl',
'logistics00:probLOGISTICS-4-1.pddl',
'logistics98:prob06.pddl',
'logistics98:prob07.pddl',
'logistics98:prob08.pddl',
'logistics98:prob13.pddl',
'logistics98:prob14.pddl',
'logistics98:prob15.pddl',
'logistics98:prob22.pddl',
'logistics98:prob24.pddl',
'miconic:s10-0.pddl',
'miconic:s10-1.pddl',
'miconic:s10-2.pddl',
'miconic:s10-3.pddl',
'miconic:s10-4.pddl',
'miconic:s11-0.pddl',
'miconic:s11-1.pddl',
'miconic:s11-2.pddl',
'miconic:s11-3.pddl',
'miconic:s11-4.pddl',
'miconic:s12-0.pddl',
'miconic:s12-1.pddl',
'miconic:s12-2.pddl',
'miconic:s12-3.pddl',
'miconic:s12-4.pddl',
'miconic:s13-0.pddl',
'miconic:s13-1.pddl',
'miconic:s13-2.pddl',
'miconic:s13-3.pddl',
'miconic:s13-4.pddl',
'miconic:s14-0.pddl',
'miconic:s14-1.pddl',
'miconic:s14-2.pddl',
'miconic:s14-3.pddl',
'miconic:s14-4.pddl',
'miconic:s15-0.pddl',
'miconic:s15-1.pddl',
'miconic:s15-2.pddl',
'miconic:s15-3.pddl',
'miconic:s15-4.pddl',
'miconic:s16-0.pddl',
'miconic:s16-1.pddl',
'miconic:s16-2.pddl',
'miconic:s16-3.pddl',
'miconic:s16-4.pddl',
'miconic:s17-0.pddl',
'miconic:s17-1.pddl',
'miconic:s17-2.pddl',
'miconic:s17-3.pddl',
'miconic:s17-4.pddl',
'miconic:s18-0.pddl',
'miconic:s18-1.pddl',
'miconic:s18-2.pddl',
'miconic:s18-3.pddl',
'miconic:s18-4.pddl',
'miconic:s19-0.pddl',
'miconic:s19-1.pddl',
'miconic:s19-2.pddl',
'miconic:s19-3.pddl',
'miconic:s19-4.pddl',
'miconic:s2-3.pddl',
'miconic:s20-0.pddl',
'miconic:s20-1.pddl',
'miconic:s20-2.pddl',
'miconic:s20-3.pddl',
'miconic:s20-4.pddl',
'miconic:s21-0.pddl',
'miconic:s21-1.pddl',
'miconic:s21-2.pddl',
'miconic:s21-3.pddl',
'miconic:s21-4.pddl',
'miconic:s22-0.pddl',
'miconic:s22-1.pddl',
'miconic:s22-2.pddl',
'miconic:s22-3.pddl',
'miconic:s22-4.pddl',
'miconic:s23-0.pddl',
'miconic:s23-1.pddl',
'miconic:s23-2.pddl',
'miconic:s23-3.pddl',
'miconic:s23-4.pddl',
'miconic:s24-0.pddl',
'miconic:s24-1.pddl',
'miconic:s24-2.pddl',
'miconic:s24-3.pddl',
'miconic:s24-4.pddl',
'miconic:s25-0.pddl',
'miconic:s25-1.pddl',
'miconic:s25-2.pddl',
'miconic:s25-3.pddl',
'miconic:s25-4.pddl',
'miconic:s26-0.pddl',
'miconic:s26-1.pddl',
'miconic:s26-2.pddl',
'miconic:s26-3.pddl',
'miconic:s26-4.pddl',
'miconic:s27-0.pddl',
'miconic:s27-1.pddl',
'miconic:s27-2.pddl',
'miconic:s27-3.pddl',
'miconic:s27-4.pddl',
'miconic:s28-0.pddl',
'miconic:s28-1.pddl',
'miconic:s28-2.pddl',
'miconic:s28-3.pddl',
'miconic:s28-4.pddl',
'miconic:s29-0.pddl',
'miconic:s29-1.pddl',
'miconic:s29-2.pddl',
'miconic:s29-3.pddl',
'miconic:s29-4.pddl',
'miconic:s3-0.pddl',
'miconic:s3-1.pddl',
'miconic:s3-2.pddl',
'miconic:s3-3.pddl',
'miconic:s3-4.pddl',
'miconic:s30-0.pddl',
'miconic:s30-1.pddl',
'miconic:s30-2.pddl',
'miconic:s30-3.pddl',
'miconic:s30-4.pddl',
'miconic:s4-1.pddl',
'miconic:s4-4.pddl',
'miconic:s5-0.pddl',
'miconic:s5-1.pddl',
'miconic:s5-2.pddl',
'miconic:s5-3.pddl',
'miconic:s5-4.pddl',
'miconic:s6-0.pddl',
'miconic:s6-1.pddl',
'miconic:s6-2.pddl',
'miconic:s6-3.pddl',
'miconic:s6-4.pddl',
'miconic:s7-0.pddl',
'miconic:s7-1.pddl',
'miconic:s7-2.pddl',
'miconic:s7-3.pddl',
'miconic:s7-4.pddl',
'miconic:s8-0.pddl',
'miconic:s8-1.pddl',
'miconic:s8-2.pddl',
'miconic:s8-3.pddl',
'miconic:s8-4.pddl',
'miconic:s9-0.pddl',
'miconic:s9-1.pddl',
'miconic:s9-2.pddl',
'miconic:s9-3.pddl',
'miconic:s9-4.pddl',
'movie:prob01.pddl',
'movie:prob02.pddl',
'movie:prob03.pddl',
'movie:prob04.pddl',
'movie:prob05.pddl',
'movie:prob06.pddl',
'movie:prob07.pddl',
'movie:prob08.pddl',
'movie:prob09.pddl',
'movie:prob10.pddl',
'movie:prob11.pddl',
'movie:prob12.pddl',
'movie:prob13.pddl',
'movie:prob14.pddl',
'movie:prob15.pddl',
'movie:prob16.pddl',
'movie:prob17.pddl',
'movie:prob18.pddl',
'movie:prob19.pddl',
'movie:prob20.pddl',
'movie:prob21.pddl',
'movie:prob22.pddl',
'movie:prob23.pddl',
'movie:prob24.pddl',
'movie:prob25.pddl',
'movie:prob26.pddl',
'movie:prob27.pddl',
'movie:prob28.pddl',
'movie:prob29.pddl',
'movie:prob30.pddl',
'parcprinter-08-strips:p11.pddl',
'parcprinter-08-strips:p12.pddl',
'parcprinter-08-strips:p13.pddl',
'parcprinter-08-strips:p14.pddl',
'parcprinter-08-strips:p15.pddl',
'parcprinter-08-strips:p16.pddl',
'parcprinter-08-strips:p17.pddl',
'parcprinter-08-strips:p18.pddl',
'parcprinter-08-strips:p19.pddl',
'parcprinter-08-strips:p20.pddl',
'parcprinter-opt11-strips:p03.pddl',
'parcprinter-opt11-strips:p09.pddl',
'parcprinter-opt11-strips:p12.pddl',
'parcprinter-opt11-strips:p17.pddl',
'parcprinter-opt11-strips:p18.pddl',
'parcprinter-opt11-strips:p19.pddl',
'parcprinter-sat11-strips:p04.pddl',
'parcprinter-sat11-strips:p14.pddl',
'parcprinter-sat11-strips:p15.pddl',
'parcprinter-sat11-strips:p16.pddl',
'pathways-noneg:p01.pddl',
'pathways-noneg:p02.pddl',
'pathways-noneg:p03.pddl',
'pathways-noneg:p04.pddl',
'pathways-noneg:p06.pddl',
'pathways-noneg:p07.pddl',
'pathways-noneg:p08.pddl',
'pathways-noneg:p10.pddl',
'pathways-noneg:p11.pddl',
'pathways-noneg:p13.pddl',
'pathways-noneg:p15.pddl',
'pathways-noneg:p16.pddl',
'pathways-noneg:p17.pddl',
'pathways-noneg:p19.pddl',
'pathways-noneg:p20.pddl',
'pathways-noneg:p21.pddl',
'pathways-noneg:p22.pddl',
'pathways-noneg:p23.pddl',
'pathways-noneg:p24.pddl',
'pathways-noneg:p25.pddl',
'pathways-noneg:p27.pddl',
'pathways-noneg:p28.pddl',
'pipesworld-notankage:p07-net1-b12-g5.pddl',
'pipesworld-notankage:p08-net1-b12-g7.pddl',
'pipesworld-notankage:p09-net1-b14-g6.pddl',
'pipesworld-notankage:p10-net1-b14-g8.pddl',
'pipesworld-notankage:p11-net2-b10-g2.pddl',
'pipesworld-notankage:p12-net2-b10-g4.pddl',
'pipesworld-notankage:p14-net2-b12-g5.pddl',
'pipesworld-notankage:p15-net2-b14-g4.pddl',
'pipesworld-notankage:p17-net2-b16-g5.pddl',
'pipesworld-notankage:p18-net2-b16-g7.pddl',
'pipesworld-notankage:p19-net2-b18-g6.pddl',
'pipesworld-notankage:p20-net2-b18-g8.pddl',
'pipesworld-notankage:p21-net3-b12-g2.pddl',
'pipesworld-notankage:p22-net3-b12-g4.pddl',
'pipesworld-notankage:p29-net3-b20-g6.pddl',
'pipesworld-notankage:p33-net4-b16-g5.pddl',
'pipesworld-notankage:p37-net4-b20-g5.pddl',
'pipesworld-notankage:p39-net4-b22-g7.pddl',
'pipesworld-notankage:p40-net4-b22-g8.pddl',
'pipesworld-notankage:p41-net5-b22-g2.pddl',
'pipesworld-notankage:p42-net5-b22-g4.pddl',
'pipesworld-notankage:p43-net5-b24-g3.pddl',
'pipesworld-notankage:p44-net5-b24-g5.pddl',
'pipesworld-notankage:p47-net5-b28-g5.pddl',
'pipesworld-notankage:p48-net5-b28-g7.pddl',
'pipesworld-notankage:p49-net5-b30-g6.pddl',
'pipesworld-notankage:p50-net5-b30-g8.pddl',
'pipesworld-tankage:p11-net2-b10-g2-t30.pddl',
'pipesworld-tankage:p12-net2-b10-g4-t60.pddl',
'pipesworld-tankage:p31-net4-b14-g3-t20.pddl',
'psr-small:p02-s5-n1-l3-f30.pddl',
'psr-small:p03-s7-n1-l3-f70.pddl',
'psr-small:p05-s9-n1-l4-f30.pddl',
'psr-small:p06-s10-n1-l4-f50.pddl',
'psr-small:p07-s11-n1-l4-f70.pddl',
'psr-small:p09-s13-n1-l5-f30.pddl',
'psr-small:p10-s17-n2-l2-f30.pddl',
'psr-small:p11-s18-n2-l2-f50.pddl',
'psr-small:p12-s21-n2-l3-f30.pddl',
'psr-small:p13-s22-n2-l3-f50.pddl',
'psr-small:p14-s23-n2-l3-f70.pddl',
'psr-small:p16-s29-n2-l5-f30.pddl',
'psr-small:p17-s30-n2-l5-f50.pddl',
'psr-small:p18-s31-n2-l5-f70.pddl',
'psr-small:p19-s33-n3-l2-f30.pddl',
'psr-small:p20-s34-n3-l2-f50.pddl',
'psr-small:p21-s35-n3-l2-f70.pddl',
'psr-small:p22-s37-n3-l3-f30.pddl',
'psr-small:p23-s38-n3-l3-f50.pddl',
'psr-small:p24-s39-n3-l3-f70.pddl',
'psr-small:p26-s41-n3-l4-f30.pddl',
'psr-small:p27-s42-n3-l4-f50.pddl',
'psr-small:p28-s43-n3-l4-f70.pddl',
'psr-small:p29-s45-n3-l5-f30.pddl',
'psr-small:p30-s46-n3-l5-f50.pddl',
'psr-small:p32-s50-n4-l2-f50.pddl',
'psr-small:p33-s51-n4-l2-f70.pddl',
'psr-small:p34-s55-n4-l3-f70.pddl',
'psr-small:p35-s57-n5-l2-f30.pddl',
'psr-small:p37-s67-n6-l2-f70.pddl',
'psr-small:p38-s78-n3-l3-f50.pddl',
'psr-small:p39-s79-n3-l3-f70.pddl',
'psr-small:p41-s81-n3-l4-f30.pddl',
'psr-small:p42-s82-n3-l4-f50.pddl',
'psr-small:p43-s83-n3-l4-f70.pddl',
'psr-small:p45-s94-n4-l3-f50.pddl',
'psr-small:p46-s97-n5-l2-f30.pddl',
'psr-small:p47-s98-n5-l2-f50.pddl',
'psr-small:p48-s101-n5-l3-f30.pddl',
'psr-small:p49-s105-n6-l2-f30.pddl',
'psr-small:p50-s107-n6-l2-f70.pddl',
'rovers:p08.pddl',
'rovers:p09.pddl',
'rovers:p11.pddl',
'rovers:p12.pddl',
'rovers:p13.pddl',
'rovers:p14.pddl',
'rovers:p15.pddl',
'rovers:p17.pddl',
'rovers:p18.pddl',
'rovers:p19.pddl',
'rovers:p20.pddl',
'rovers:p21.pddl',
'rovers:p22.pddl',
'rovers:p23.pddl',
'rovers:p24.pddl',
'rovers:p25.pddl',
'rovers:p26.pddl',
'rovers:p27.pddl',
'rovers:p28.pddl',
'rovers:p29.pddl',
'rovers:p30.pddl',
'rovers:p31.pddl',
'rovers:p32.pddl',
'rovers:p33.pddl',
'rovers:p34.pddl',
'rovers:p35.pddl',
'rovers:p36.pddl',
'rovers:p37.pddl',
'rovers:p38.pddl',
'rovers:p39.pddl',
'rovers:p40.pddl',
'satellite:p01-pfile1.pddl',
'satellite:p02-pfile2.pddl',
'satellite:p03-pfile3.pddl',
'satellite:p04-pfile4.pddl',
'satellite:p05-pfile5.pddl',
'satellite:p06-pfile6.pddl',
'satellite:p07-pfile7.pddl',
'satellite:p08-pfile8.pddl',
'satellite:p09-pfile9.pddl',
'satellite:p10-pfile10.pddl',
'satellite:p11-pfile11.pddl',
'satellite:p12-pfile12.pddl',
'satellite:p13-pfile13.pddl',
'satellite:p14-pfile14.pddl',
'satellite:p15-pfile15.pddl',
'satellite:p16-pfile16.pddl',
'satellite:p17-pfile17.pddl',
'satellite:p18-pfile18.pddl',
'satellite:p19-pfile19.pddl',
'satellite:p20-pfile20.pddl',
'satellite:p21-HC-pfile1.pddl',
'satellite:p22-HC-pfile2.pddl',
'satellite:p23-HC-pfile3.pddl',
'satellite:p24-HC-pfile4.pddl',
'satellite:p25-HC-pfile5.pddl',
'satellite:p26-HC-pfile6.pddl',
'sokoban-opt08-strips:p01.pddl',
'sokoban-opt08-strips:p02.pddl',
'sokoban-opt08-strips:p03.pddl',
'sokoban-opt08-strips:p04.pddl',
'sokoban-opt08-strips:p05.pddl',
'sokoban-opt08-strips:p06.pddl',
'sokoban-opt08-strips:p07.pddl',
'sokoban-opt08-strips:p08.pddl',
'sokoban-opt08-strips:p09.pddl',
'sokoban-opt08-strips:p10.pddl',
'sokoban-opt08-strips:p11.pddl',
'sokoban-opt08-strips:p12.pddl',
'sokoban-opt08-strips:p13.pddl',
'sokoban-opt08-strips:p14.pddl',
'sokoban-opt08-strips:p15.pddl',
'sokoban-opt08-strips:p16.pddl',
'sokoban-opt08-strips:p17.pddl',
'sokoban-opt08-strips:p18.pddl',
'sokoban-opt08-strips:p19.pddl',
'sokoban-opt08-strips:p21.pddl',
'sokoban-opt08-strips:p22.pddl',
'sokoban-opt08-strips:p23.pddl',
'sokoban-opt08-strips:p24.pddl',
'sokoban-opt08-strips:p25.pddl',
'sokoban-opt08-strips:p26.pddl',
'sokoban-opt08-strips:p27.pddl',
'sokoban-opt08-strips:p28.pddl',
'sokoban-opt08-strips:p29.pddl',
'sokoban-opt08-strips:p30.pddl',
'sokoban-opt11-strips:p01.pddl',
'sokoban-opt11-strips:p02.pddl',
'sokoban-opt11-strips:p03.pddl',
'sokoban-opt11-strips:p04.pddl',
'sokoban-opt11-strips:p05.pddl',
'sokoban-opt11-strips:p06.pddl',
'sokoban-opt11-strips:p07.pddl',
'sokoban-opt11-strips:p08.pddl',
'sokoban-opt11-strips:p09.pddl',
'sokoban-opt11-strips:p10.pddl',
'sokoban-opt11-strips:p11.pddl',
'sokoban-opt11-strips:p13.pddl',
'sokoban-opt11-strips:p14.pddl',
'sokoban-opt11-strips:p15.pddl',
'sokoban-opt11-strips:p16.pddl',
'sokoban-opt11-strips:p17.pddl',
'sokoban-opt11-strips:p18.pddl',
'sokoban-opt11-strips:p19.pddl',
'sokoban-opt11-strips:p20.pddl',
'sokoban-sat08-strips:p01.pddl',
'sokoban-sat08-strips:p02.pddl',
'sokoban-sat08-strips:p03.pddl',
'sokoban-sat08-strips:p04.pddl',
'sokoban-sat08-strips:p05.pddl',
'sokoban-sat08-strips:p06.pddl',
'sokoban-sat08-strips:p07.pddl',
'sokoban-sat08-strips:p08.pddl',
'sokoban-sat08-strips:p09.pddl',
'sokoban-sat08-strips:p11.pddl',
'sokoban-sat08-strips:p12.pddl',
'sokoban-sat08-strips:p13.pddl',
'sokoban-sat08-strips:p14.pddl',
'sokoban-sat08-strips:p15.pddl',
'sokoban-sat08-strips:p16.pddl',
'sokoban-sat08-strips:p17.pddl',
'sokoban-sat08-strips:p18.pddl',
'sokoban-sat08-strips:p19.pddl',
'sokoban-sat08-strips:p20.pddl',
'sokoban-sat08-strips:p21.pddl',
'sokoban-sat08-strips:p22.pddl',
'sokoban-sat08-strips:p23.pddl',
'sokoban-sat08-strips:p24.pddl',
'sokoban-sat08-strips:p25.pddl',
'sokoban-sat08-strips:p26.pddl',
'sokoban-sat08-strips:p27.pddl',
'sokoban-sat08-strips:p28.pddl',
'sokoban-sat08-strips:p29.pddl',
'sokoban-sat08-strips:p30.pddl',
'sokoban-sat11-strips:p01.pddl',
'sokoban-sat11-strips:p02.pddl',
'sokoban-sat11-strips:p03.pddl',
'sokoban-sat11-strips:p04.pddl',
'sokoban-sat11-strips:p05.pddl',
'sokoban-sat11-strips:p06.pddl',
'sokoban-sat11-strips:p07.pddl',
'sokoban-sat11-strips:p08.pddl',
'sokoban-sat11-strips:p10.pddl',
'sokoban-sat11-strips:p11.pddl',
'sokoban-sat11-strips:p12.pddl',
'sokoban-sat11-strips:p13.pddl',
'sokoban-sat11-strips:p14.pddl',
'sokoban-sat11-strips:p15.pddl',
'sokoban-sat11-strips:p16.pddl',
'sokoban-sat11-strips:p17.pddl',
'sokoban-sat11-strips:p18.pddl',
'sokoban-sat11-strips:p19.pddl',
'sokoban-sat11-strips:p20.pddl',
'storage:p13.pddl',
'storage:p14.pddl',
'storage:p15.pddl',
'storage:p16.pddl',
'storage:p17.pddl',
'storage:p19.pddl',
'storage:p20.pddl',
'storage:p23.pddl',
'storage:p24.pddl',
'storage:p25.pddl',
'storage:p27.pddl',
'tetris-opt14-strips:p04-10.pddl',
'tetris-sat14-strips:p026.pddl',
'tetris-sat14-strips:p034.pddl',
'tetris-sat14-strips:p035.pddl',
'tetris-sat14-strips:p036.pddl',
'thoughtful-sat14-strips:bootstrap-typed-03.pddl',
'thoughtful-sat14-strips:bootstrap-typed-04.pddl',
'thoughtful-sat14-strips:p11_6_53-typed.pddl',
'thoughtful-sat14-strips:p13_7_78-typed.pddl',
'thoughtful-sat14-strips:p13_7_86-typed.pddl',
'thoughtful-sat14-strips:target-typed-20.pddl',
'thoughtful-sat14-strips:target-typed-22.pddl',
'thoughtful-sat14-strips:target-typed-23.pddl',
'thoughtful-sat14-strips:target-typed-24.pddl',
'thoughtful-sat14-strips:target-typed-25.pddl',
'thoughtful-sat14-strips:target-typed-26.pddl',
'thoughtful-sat14-strips:target-typed-28.pddl',
'tpp:p11.pddl',
'tpp:p12.pddl',
'tpp:p17.pddl',
'tpp:p18.pddl',
'tpp:p19.pddl',
'tpp:p20.pddl',
'tpp:p21.pddl',
'tpp:p22.pddl',
'tpp:p23.pddl',
'tpp:p24.pddl',
'tpp:p29.pddl',
'tpp:p30.pddl',
'woodworking-opt08-strips:p02.pddl',
'woodworking-opt08-strips:p03.pddl',
'woodworking-opt08-strips:p04.pddl',
'woodworking-opt08-strips:p05.pddl',
'woodworking-opt08-strips:p06.pddl',
'woodworking-opt08-strips:p07.pddl',
'woodworking-opt08-strips:p08.pddl',
'woodworking-opt08-strips:p09.pddl',
'woodworking-opt08-strips:p10.pddl',
'woodworking-opt08-strips:p12.pddl',
'woodworking-opt08-strips:p14.pddl',
'woodworking-opt08-strips:p15.pddl',
'woodworking-opt08-strips:p16.pddl',
'woodworking-opt08-strips:p17.pddl',
'woodworking-opt08-strips:p18.pddl',
'woodworking-opt08-strips:p19.pddl',
'woodworking-opt08-strips:p20.pddl',
'woodworking-opt08-strips:p22.pddl',
'woodworking-opt08-strips:p23.pddl',
'woodworking-opt08-strips:p24.pddl',
'woodworking-opt08-strips:p25.pddl',
'woodworking-opt08-strips:p26.pddl',
'woodworking-opt08-strips:p27.pddl',
'woodworking-opt08-strips:p28.pddl',
'woodworking-opt08-strips:p29.pddl',
'woodworking-opt08-strips:p30.pddl',
'woodworking-opt11-strips:p01.pddl',
'woodworking-opt11-strips:p02.pddl',
'woodworking-opt11-strips:p04.pddl',
'woodworking-opt11-strips:p05.pddl',
'woodworking-opt11-strips:p06.pddl',
'woodworking-opt11-strips:p07.pddl',
'woodworking-opt11-strips:p08.pddl',
'woodworking-opt11-strips:p09.pddl',
'woodworking-opt11-strips:p10.pddl',
'woodworking-opt11-strips:p11.pddl',
'woodworking-opt11-strips:p12.pddl',
'woodworking-opt11-strips:p13.pddl',
'woodworking-opt11-strips:p14.pddl',
'woodworking-opt11-strips:p15.pddl',
'woodworking-opt11-strips:p16.pddl',
'woodworking-opt11-strips:p17.pddl',
'woodworking-opt11-strips:p18.pddl',
'woodworking-opt11-strips:p19.pddl',
'woodworking-opt11-strips:p20.pddl',
'woodworking-sat08-strips:p02.pddl',
'woodworking-sat08-strips:p03.pddl',
'woodworking-sat08-strips:p04.pddl',
'woodworking-sat08-strips:p05.pddl',
'woodworking-sat08-strips:p06.pddl',
'woodworking-sat08-strips:p07.pddl',
'woodworking-sat08-strips:p08.pddl',
'woodworking-sat08-strips:p09.pddl',
'woodworking-sat08-strips:p10.pddl',
'woodworking-sat08-strips:p13.pddl',
'woodworking-sat08-strips:p14.pddl',
'woodworking-sat08-strips:p15.pddl',
'woodworking-sat08-strips:p16.pddl',
'woodworking-sat08-strips:p17.pddl',
'woodworking-sat08-strips:p18.pddl',
'woodworking-sat08-strips:p19.pddl',
'woodworking-sat08-strips:p20.pddl',
'woodworking-sat08-strips:p22.pddl',
'woodworking-sat08-strips:p23.pddl',
'woodworking-sat08-strips:p24.pddl',
'woodworking-sat08-strips:p25.pddl',
'woodworking-sat08-strips:p26.pddl',
'woodworking-sat08-strips:p27.pddl',
'woodworking-sat08-strips:p28.pddl',
'woodworking-sat08-strips:p29.pddl',
'woodworking-sat08-strips:p30.pddl',
'woodworking-sat11-strips:p01.pddl',
'woodworking-sat11-strips:p02.pddl',
'woodworking-sat11-strips:p03.pddl',
'woodworking-sat11-strips:p04.pddl',
'woodworking-sat11-strips:p05.pddl',
'woodworking-sat11-strips:p06.pddl',
'woodworking-sat11-strips:p07.pddl',
'woodworking-sat11-strips:p08.pddl',
'woodworking-sat11-strips:p09.pddl',
'woodworking-sat11-strips:p11.pddl',
'woodworking-sat11-strips:p12.pddl',
'woodworking-sat11-strips:p13.pddl',
'woodworking-sat11-strips:p14.pddl',
'woodworking-sat11-strips:p15.pddl',
'woodworking-sat11-strips:p16.pddl',
'woodworking-sat11-strips:p17.pddl',
'woodworking-sat11-strips:p18.pddl',
'woodworking-sat11-strips:p19.pddl',
'woodworking-sat11-strips:p20.pddl',
'zenotravel:p15.pddl',
    ]

    if matplotlib:
        # for (algo1, algo2) in algorithm_pairs:
            # exp.add_report(
                # ScatterPlotReport(
                    # filter_algorithm=[algo1, algo2],
                    # attributes=[symmetry_group_order],
                    # get_category=lambda run1, run2: run1["domain"],
                    # filter_domain=suite,
                # ),
                # outfile=os.path.join(exp.eval_dir, 'a' + exp.name + '-scatter-order-%s-%s.png' % (algo1, algo2)),
            # )
        exp.add_report(
            ScatterPlotReport(
                filter_algorithm=algo_pair,
                attributes=[symmetry_group_order],
                get_category=lambda run1, run2: run1["domain"],
                filter=lambda props: "{}:{}".format(props['domain'], props['problem']) in tasks_with_different_symmetry_group_orders_for_full_stabilizing,
            ),
            outfile=os.path.join(exp.eval_dir, 'a' + exp.name + '-scatter-order-%s-%s.png' % (algo_pair[0], algo_pair[1])),
        )


    exp.run_steps()

main(revisions=[])
